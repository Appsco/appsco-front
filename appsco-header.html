<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../iron-flex-layout/iron-flex-layout-classes.html">

<link rel="import" href="appsco-brand.html">
<link rel="import" href="appsco-product.html">
<link rel="import" href="appsco-account-actions.html">
<link rel="import" href="appsco-account-info.html">

<!--
`appsco-header`
appsco-header is used to represent overall info about branding, current appsco product, global actions and user info. It is top section within appsco page.

Example:

    <body>
      <appsco-header></appsco-header>


### Styling

`<appsco-header>` provides the following custom mixins for styling:

Custom property | Description | Default
----------------|-------------|----------
`--primary-text-color` | Default text color for element | `#7e97b2`
`--divider-color` | Default color for divider | `#eaeaea`
`--appsco-header` | Mixin applied to root appsco-header element. | `{}`

@demo demo/index.html
-->

<dom-module id="appsco-header">
    <template>
        <style include="iron-flex iron-flex-alignment">
            :host {
                display: block;
                color: var(--primary-text-color);

                --primary-text-color: #8398b1;

                --appsco-brand-logo: {
                     margin-right: 10px;
                 };

                --appsco-product: {
                    font-size: 18px;
                 };

                --appsco-account-actions: {
                     margin-right: 10px;
                 };

                @apply(--appsco-header);
            }
            :host appsco-brand,
            :host appsco-product,
            :host appsco-account-actions,
            :host appsco-account-info {
                color: var(--primary-text-color);
            }
            :host .appsco-header-container {
                height: 100%;
            }
            :host .vertical-divider {
                width: 2px;
                height: 32px;
                background-color: var(--divider-color, #eaeaea);
                margin-left: 10px;
                margin-right: 10px;
            }
        </style>

        <div class="appsco-header-container layout horizontal center justified">

            <div class="layout horizontal center">
                <appsco-brand
                        logo="http://appsco.loc/bundles/appscodashboardapproot/img/appsco-logo.png"
                        logo-width="32"
                        logo-height="32"
                        brand-title="AppsCo">

                </appsco-brand>

                <div class="vertical-divider"></div>

                <appsco-product partner></appsco-product>
            </div>

            <div class="layout horizontal center">
                <appsco-account-actions
                        class="mr-10"
                        chat='{
                            "auth": "auth code",
                            "room": "room number",
                            "service": "https://www.xxx.com",
                            "active": "false"
                          }'
                        intranet="http://www.rts.rs/">
                </appsco-account-actions>

                <appsco-account-info
                        account='{
                                    "id": "1",
                                    "email": "john.doe@exampleemail.com",
                                    "first_name": "John",
                                    "last_name": "Doe",
                                    "locale": "Europe/Serbia",
                                    "gender": "m",
                                    "country": "RS",
                                    "phone": "null",
                                    "picture_url": "http://app-layout-assets.appspot.com/assets/PharrellWilliams.jpg",
                                    "info": "This account is managed by boutsourcing.com."
                                }'
                        info="Info related to account"
                        display-name
                        on-account-settings="_handleAccountSettingsAction"
                        on-account-switch="_handleAccountSwitchAction"
                        on-account-add="_handleAccountAddAction"
                        on-account-logout="_handleAccountLogoutAction">
                </appsco-account-info>
            </div>

        </div>

    </template>

    <script>
        Polymer({

            is: 'appsco-header',

            properties: {

            },

            _handleAccountSettingsAction: function(event) {
                console.log('Show settings for account: ' + event.detail.account);
            },

            _handleAccountSwitchAction: function(event) {
                console.log('Switch account to: ' + event.detail.account);
            },

            _handleAccountAddAction: function(event) {
                console.log('Add new account.');
            },

            _handleAccountLogoutAction: function(event) {
                console.log('Logout account: ' + event.detail.account);
            }

        });
    </script>
</dom-module>
