<html><head><link rel="import" href="../bower_components/polymer/polymer.html">

<link rel="import" href="../bower_components/app-layout/app-drawer/app-drawer.html">
<link rel="import" href="../bower_components/app-layout/app-drawer-layout/app-drawer-layout.html">
<link rel="import" href="../bower_components/app-layout/app-header/app-header.html">
<link rel="import" href="../bower_components/app-layout/app-header-layout/app-header-layout.html">
<link rel="import" href="../bower_components/app-layout/app-scroll-effects/app-scroll-effects.html">
<link rel="import" href="../bower_components/app-layout/app-toolbar/app-toolbar.html">

<link rel="import" href="../bower_components/app-route/app-location.html">
<link rel="import" href="../bower_components/app-route/app-route.html">

<link rel="import" href="../bower_components/iron-pages/iron-pages.html">
<link rel="import" href="../bower_components/iron-selector/iron-selector.html">
<link rel="import" href="../bower_components/iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="../bower_components/iron-media-query/iron-media-query.html">

<link rel="import" href="../bower_components/neon-animation/neon-animated-pages.html">
<link rel="import" href="../bower_components/neon-animation/animations/fade-in-animation.html">
<link rel="import" href="../bower_components/neon-animation/animations/fade-out-animation.html">
<link rel="import" href="../bower_components/neon-animation/neon-animation-runner-behavior.html">

<link rel="import" href="../bower_components/paper-button/paper-button.html">
<link rel="import" href="../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../bower_components/paper-listbox/paper-listbox.html">
<link rel="import" href="../bower_components/paper-item/paper-item.html">
<link rel="import" href="../bower_components/paper-dropdown-menu/paper-dropdown-menu.html">
<link rel="import" href="../bower_components/paper-toast/paper-toast.html">
<link rel="import" href="../bower_components/paper-progress/paper-progress.html">
<link rel="import" href="../bower_components/paper-styles/typography.html">

<link rel="import" href="../bower_components/appsco-header/appsco-header.html">
<link rel="import" href="../bower_components/appsco-header/appsco-account-chat.html">
<link rel="import" href="../bower_components/appsco-components/appsco-api.html">

<link rel="import" href="../bower_components/appsco-application/appsco-application-add.html">
<link rel="import" href="../bower_components/appsco-application/appsco-application-share.html">
<link rel="import" href="../bower_components/appsco-application/appsco-application-remove.html">
<link rel="import" href="../bower_components/appsco-application/appsco-application-subscriber-revoke.html">
<link rel="import" href="../bower_components/appsco-application/company/appsco-company-application-add.html">
<link rel="import" href="../bower_components/appsco-application/company/appsco-company-application-share.html">
<link rel="import" href="../bower_components/appsco-application/company/appsco-company-application-remove.html">
<link rel="import" href="../bower_components/appsco-application/company/appsco-application-orgunit.html">
<link rel="import" href="../bower_components/appsco-application/company/appsco-application-remove-orgunit.html">
<link rel="import" href="../bower_components/appsco-application/company/appsco-application-assignee-claims.html">
<link rel="import" href="../bower_components/appsco-application/company/appsco-application-assignee-revoke.html">

<link rel="import" href="../bower_components/appsco-account/appsco-account-authorized-app-revoke.html">

<link rel="import" href="application/appsco-home-page-actions.html">
<link rel="import" href="application/appsco-application-page-actions.html">
<link rel="import" href="account/appsco-account-page-actions.html">
<link rel="import" href="upgrade/appsco-upgrade-page-actions.html">
<link rel="import" href="applications/appsco-applications-page-actions.html">
<link rel="import" href="applications/appsco-manage-application-page-actions.html">
<link rel="import" href="billing/appsco-billing-page-actions.html">

<link rel="import" href="directory/appsco-directory-page-actions.html">
<link rel="import" href="directory/appsco-manage-account-page-actions.html">
<link rel="import" href="directory/appsco-directory-add-account.html">
<link rel="import" href="directory/appsco-directory-import-accounts.html">

<link rel="import" href="upgrade/appsco-upgrade-action.html">
<link rel="import" href="billing/appsco-subscription-cancel.html">
<link rel="import" href="billing/appsco-credit-card.html">
<link rel="import" href="billing/appsco-billing-send-invoice.html">

<link rel="import" href="vault/appsco-vault-page-actions.html">
<link rel="import" href="vault/appsco-vault-manage-item.html">
<link rel="import" href="../bower_components/appsco-vault/appsco-vault-remove.html">

<link rel="import" href="../bower_components/appsco-orgunit/appsco-orgunit-modify.html">
<link rel="import" href="../bower_components/appsco-orgunit/appsco-orgunit-remove.html">

<link rel="import" href="../bower_components/appsco-account/company/appsco-account-orgunit.html">
<link rel="import" href="../bower_components/appsco-account/company/appsco-account-remove-orgunit.html">
<link rel="import" href="../bower_components/appsco-account/company/appsco-account-remove.html">

<link rel="import" href="audit-log/appsco-audit-log-page-actions.html">

<link rel="import" href="shared-styles.html">
<link rel="import" href="webkit-scrollbar-style.html">

</head><body><dom-module id="appsco-app">
    <template>
        <style include="shared-styles">
            :host {
                display: block;

                --app-primary-color: #279FBC;
                --app-primary-color-1: #39C2D7;
                --app-secondary-color: #273441;
                --app-secondary-color-1: #1183A4;
                --app-danger-color: #db4437;
                --body-background-color: #f5f8fa;
                --app-primary-color-dark: #414042;
                --success-color: #5AC099;

                --primary-text-color: #414042;
                --secondary-text-color: #969696;

                --primary-button-background-color: var(--app-primary-color);

                --border-radius-base: 3px;

                --paper-progress-active-color: var(--success-color);
            }

            /* Top header style START */
            appsco-header {
                height: 64px;
                padding: 16px 10px;
                box-sizing: border-box;
                color: #ffffff;
                background-color: var(--app-primary-color);

                --appsco-account-action-color: #ffffff;

                --appsco-brand: {
                     display: block;
                 };
                --appsco-product: {
                     height: 32px;
                     line-height: 35px;
                 };

                --paper-listbox: {
                     color: var(--app-secondary-color);
                 };

                --notifications-paper-card-header-text: {
                     color: var(--primary-text-color);
                 };

                --appsco-brand-logo: {
                    width: auto;
                }
            }
            /* Top header style END */

            /* Bottom header style START */
            app-header {
                background-color: #ffffff;
                box-shadow: 0 3px 3px -2px rgba(0, 0, 0, 0.4);
            }
            app-header paper-icon-button {
                --paper-icon-button-ink-color: white;
            }
            app-header .actions {
                height: 100%;
            }
            .page-title {
                margin-right: 10px;
                font-size: 18px;
                color: var(--primary-text-color);
                text-transform: capitalize;
            }
            /* Bottom header style END */

            /* Menu list style START */
            .drawer-list {
            }
            .drawer-list > a,
            .drawer-list div[disabled],
            .drawer-list div[head]
            {
                display: block;
                padding: 0 16px;
                text-decoration: none;
                color: var(--app-secondary-color);
                line-height: 36px;
                border-bottom: 1px solid var(--divider-color);
                outline: none;
                font-size: 14px;
            }
            .drawer-list div[head] {
                background-color: #279FBC;
                color: #ffffff;
            }
            .drawer-list div[head].business {
                background-color: #5AC099;
            }
            .drawer-list div[disabled] {
                opacity: 0.4;
            }
            .drawer-list a.iron-selected {
                background-color: var(--google-grey-300);
            }
            /* Menu list style END */

            :host app-drawer-layout[fullbleed] {
                top: 64px;
                overflow: hidden;
            }
            app-drawer {
                top: 64px;
                border-top: 1px solid #ffffff;
                height: calc(100vh - 64px);
                --app-drawer-content-container: {
                     padding-top: 0;
                     background: var(--body-background-color);
                     overflow: auto;
                 };
            }
            app-drawer iron-icon {
                --iron-icon-fill-color: var(--app-primary-color-dark);
            }
            app-toolbar {
                padding: 0 10px;
            }
            :host .flex-horizontal {
                @apply(--layout-horizontal);
                @apply(--layout-center);
            }
            :host .flex {
                @apply(--layout-flex);
            }
            .pages {
                height: 100%;
            }
            .menu-text {
                display: inline-block;
                vertical-align: middle;
                padding-left: 8px;
            }
            :host paper-progress {
                width: 100%;
                position: absolute;
                top: 64px;
                left: 0;
                z-index: 10;
            }
            :host([tablet-screen]) {
                --appsco-paper-dialog: {
                     width: 90%;
                     top: 20vh;
                 };
            }
            :host([mobile-screen]) {
                --appsco-account-notifications-dropdown: {
                     width: 300px;
                 };

                --appsco-account-info-dropdown: {
                     width: 300px;
                 };
            }
            :host div[purchase] {
                margin-top: 20px;
                padding: 0 18px;
                @apply(--layout-vertical);
                @apply(--layout-center);
                @apply(--paper-font-body1);
                color: var(--primary-text-color);
            }
            :host div[purchase] a {
                width: 100%;
            }
            :host div[purchase] paper-button {
                @apply(--primary-button);
                background-color: var(--success-color);
                border-color: var(--success-color);
                width: 100%;
                margin-top: 10px;
            }
            :host div[purchase] a {
                display: block;
                text-decoration: none;
                outline: none;
            }
        </style>

        <iron-media-query query="(max-width: 600px)" query-matches="{{ mobileScreen }}"></iron-media-query>
        <iron-media-query query="(max-width: 800px)" query-matches="{{ tabletScreen }}"></iron-media-query>

        <appsco-api id="api" domain="[[ domain ]]" index="" name="{{ api }}"></appsco-api>
        <app-location route="{{route}}"></app-location>

        <app-route route="{{route}}" pattern="/:page" data="{{routeData}}" tail="{{subroute}}"></app-route>

        <paper-toast id="toast" text="[[ _toastMessage ]]" on-iron-overlay-closed="_onToastMessageClosed"></paper-toast>

        <appsco-header id="appscoHeader" account="[[ account ]]" brand-logo="[[ _brandLogo ]]" brand-logo-width="38" brand-logo-height="32" brand-title="[[ _brandTitle ]]" authorization-token="[[ authorizationToken ]]" notifications-api="[[ api.notifications ]]" logout-api="[[ api.logout ]]" notifications-size="5" product-business="[[ account.company_admin ]]" product-partner="[[ account.partner ]]" domain="{{ domain }}" on-appsco-product-changed="_onAppscoProductChangeAction" on-account-chat="_onAccountChat" on-account-settings="_onAccountSettingsAction" on-all-notifications="_onAllNotifications" on-account-logout="_onAccountLogout"></appsco-header>

        <app-drawer-layout fullbleed="" force-narrow="">

             
            <app-drawer id="appDrawer">
                <iron-selector selected="[[page]]" attr-for-selected="name" class="drawer-list" role="navigation">
                    <div head="">
                        <span class="menu-text">Personal</span>
                    </div>
                    <a name="home" href="/home">
                        <iron-icon icon="icons:home"></iron-icon> <span class="menu-text">Home</span>
                    </a>
                    <a name="account" href="/account">
                        <iron-icon icon="icons:perm-identity"></iron-icon> <span class="menu-text">Account</span>
                    </a>
                    <a name="vault" href="/vault">
                        <iron-icon icon="icons:work"></iron-icon> <span class="menu-text">Vault</span>
                    </a>

                    <template is="dom-if" if="[[ _companyAdmin ]]">
                        <div head="" class="business">
                            <span class="menu-text">Business</span>
                        </div>
                        <a name="applications" href="/applications">
                            <iron-icon icon="icons:apps"></iron-icon> <span class="menu-text">Applications</span>
                        </a>
                        <a name="directory" href="/directory">
                            <iron-icon icon="icons:supervisor-account"></iron-icon> <span class="menu-text">Directory</span>
                            
                        </a>
                        <div name="vault" href="/vault" disabled="">
                            <iron-icon icon="icons:compare-arrows"></iron-icon> <span class="menu-text">Provisioning</span>
                        </div>
                        <a name="audit log" href="/audit-log">
                            <iron-icon icon="icons:reorder"></iron-icon> <span class="menu-text">Audit</span>
                        </a>
                        <div name="vault" href="/vault" disabled="">
                            <iron-icon icon="icons:donut-large"></iron-icon> <span class="menu-text">Statistics</span>
                            
                            
                        </div>
                        <a name="billing" href="/billing">
                            <iron-icon icon="icons:payment"></iron-icon> <span class="menu-text">Billing</span>
                        </a>
                        <a name="settings" href="/company-settings">
                            <iron-icon icon="icons:settings"></iron-icon> <span class="menu-text">Settings</span>
                        </a>
                    </template>

                    <template is="dom-if" if="[[ !_companyUser ]]">
                        <div head="" class="business">
                            <span class="menu-text">Business</span>
                        </div>
                        <div name="applications" disabled="">
                            <iron-icon icon="icons:apps"></iron-icon> <span class="menu-text">Applications</span>
                        </div>
                        <div name="directory" disabled="">
                            <iron-icon icon="icons:supervisor-account"></iron-icon> <span class="menu-text">Directory</span>
                        </div>
                        <div name="vault" disabled="">
                            <iron-icon icon="icons:compare-arrows"></iron-icon> <span class="menu-text">Provisioning</span>
                        </div>
                        <div name="vault" disabled="">
                            <iron-icon icon="icons:reorder"></iron-icon> <span class="menu-text">Audit</span>
                        </div>
                        <div name="vault" disabled="">
                            <iron-icon icon="icons:donut-large"></iron-icon> <span class="menu-text">Statistics</span>
                        </div>
                        <div name="vault" disabled="">
                            <iron-icon icon="icons:payment"></iron-icon> <span class="menu-text">Billing</span>
                        </div>
                        <div name="settings" disabled="">
                            <iron-icon icon="icons:settings"></iron-icon> <span class="menu-text">Settings</span>
                        </div>

                        <div purchase="" name="upgrade" href="/upgrade">
                            <div>
                                Manage your business applications, employees and get meaningful insights.
                            </div>
                            <a href="/upgrade" name="upgrade">
                                <paper-button>Try Appsco Business</paper-button>
                            </a>
                        </div>
                    </template>
                </iron-selector>
            </app-drawer>

            
            <app-header-layout has-scrolling-region="">

                <app-header>
                    <app-toolbar class="flex-horizontal">
                        <paper-icon-button icon="menu" drawer-toggle=""></paper-icon-button>
                        <div class="page-title" condense-title="">[[ _pageName ]]</div>

                        <neon-animated-pages id="animatedActions" class="actions flex flex-end" selected="[[page]]" attr-for-selected="name">

                            <appsco-home-page-actions name="home" authorization-token="[[ authorizationToken ]]" filter-api="[[ api.dashboards ]]?extended=1" on-add-application="_onAddApplication" on-search="_onSearchApplications" on-group-selected="_onGroupSelected" on-page-global-info="_onInfoAction"></appsco-home-page-actions>

                            <appsco-application-page-actions name="application" on-back="_showHomePage" on-resource-section="_onResourceActionApplicationPage"></appsco-application-page-actions>

                            <appsco-account-page-actions id="appscoAccountPageActions" name="account" on-back="_showHomePage" on-resource-section="_onResourceActionAccountPage" on-advanced-settings="_onAccountAdvancedSettings"></appsco-account-page-actions>

                            <appsco-vault-page-actions name="vault" authorization-token="[[ authorizationToken ]]" on-page-global-info="_onInfoVaultAction" on-add-vault-action="_onAddVaultAction"></appsco-vault-page-actions>

                            <appsco-upgrade-page-actions name="upgrade" authorization-token="[[ authorizationToken ]]" on-toggle-pricing="_onUpgradeTogglePricing"></appsco-upgrade-page-actions>

                            <appsco-applications-page-actions id="appscoApplicationsPageActions" name="applications" authorization-token="[[ authorizationToken ]]" filter-api="[[ api.dashboards ]]?extended=1" on-add-application="_onCompanyAddApplication" on-search="_onSearchCompanyApplications" on-page-global-info="_onInfoAction" on-page-global-filters="_onFiltersAction" on-share="_onShareApplications" on-remove="_onRemoveApplications" on-orgunits="_onAddApplicationsToOrgunit" on-select-all="_onSelectAllApplications" on-deselect-all="_onDeselectAllApplications"></appsco-applications-page-actions>

                            <appsco-manage-application-page-actions name="manage-application" on-back="_showCompanyApplicationsPage" on-resource-section="_onResourceActionManageApplicationPage"></appsco-manage-application-page-actions>

                            <appsco-directory-page-actions id="appscoDirectoryPageActions" name="directory" authorization-token="[[ authorizationToken ]]" on-add-account="_onCompanyAddAccount" on-import-accounts="_onCompanyImportAccounts" on-search="_onSearchAccounts" on-page-global-info="_onInfoAction" on-page-global-filters="_onFiltersAction" on-remove="_onRemoveAccounts" on-orgunits="_onAddAccountsToOrgunit"></appsco-directory-page-actions>

                            <appsco-manage-account-page-actions name="manage-account" on-back="_showCompanyDirectoryPage" on-resource-section="_onResourceActionManageAccountPage"></appsco-manage-account-page-actions>

                            <appsco-audit-log-page-actions name="audit-log" on-resource-section="_onResourceActionAuditLogPage"></appsco-audit-log-page-actions>

                            <appsco-billing-page-actions name="billing" on-resource-section="_onResourceActionBillingPage"></appsco-billing-page-actions>
                        </neon-animated-pages>

                    </app-toolbar>
                </app-header>

                <paper-progress id="pageProgress" indeterminate=""></paper-progress>

                <neon-animated-pages class="pages" selected="[[page]]" attr-for-selected="name" fallback-selection="404" role="main" on-neon-animation-finish="_onPageAnimationFinish">
                    <appsco-home-page id="appscoHomePage" name="home" application="{{ application }}" application-log="[[ application.meta.log ]]" authorization-token="[[ authorizationToken ]]" applications-api="[[ applicationsApi ]]" on-loaded="_onLoadedApplications" on-edit-application="_onEditApplication" on-info-edit-application="_onInfoEditApplication" on-share-application="_onShareApplication" on-revoke-application="_onRevokeApplication"></appsco-home-page>

                    <appsco-application-page id="appscoApplicationPage" name="application" route="[[ subroute ]]" company="[[ _company ]]" application="{{ application }}" applications-api="[[ api.icons ]]" application-log="[[ application.meta.log ]]" authorization-token="[[ authorizationToken ]]" accounts-api="[[ api.accounts ]]" account="{{ account }}" on-share-application="_onShareApplication" on-remove-application="_onRemoveApplication" on-subscription-revoke="_onSubscriptionRevoke" on-application-settings-saved="_onApplicationSettingsSaved" on-application-settings-no-changes="_onApplicationSettingsNoChanges" on-autologin-changed="_onAutologinChanged" on-error="_onError"></appsco-application-page>

                    <appsco-account-page id="appscoAccountPage" name="account" account="{{ account }}" authorization-token="[[ authorizationToken ]]" notifications-api="[[ api.notifications ]]" authorized-apps-api="[[ api.authorizedApps ]]" log-api="[[ api.accountLog ]]" two-fa-api="[[ api.twoFA ]]" two-fa-qr-api="[[ api.twoFAQr ]]" two-fa-codes-api="[[ api.twoFACodes ]]" settings-api="[[ api.me ]]" image-settings-api="[[ api.profileImage ]]" transfer-token-api="[[ api.transferToken ]]" change-password-api="[[ api.changePassword ]]" partner-api="[[ api.partner ]]" on-settings-saved="_onAccountSettingsSaved" on-password-changed="_onAccountPasswordChanged" on-disable-advanced-settings="_onDisableAdvancedSettings" on-enable-advanced-settings="_onEnableAdvancedSettings" on-twofa-enabled="_onTwoFaEnabled" on-twofa-disabled="_onTwoFaDisabled" on-revoke-authorized-application="_onRevokeAuthorizedApplication" on-token-generated="_onTokenGenerated"></appsco-account-page>

                    <appsco-vault-page id="appscoVaultPage" name="vault" authorization-token="[[ authorizationToken ]]" api="[[ api ]]" on-loaded="_onLoadedVaultItems" on-edit="_onEditVaultAction" on-remove-vault-item="_onRemoveVaultAction">
                    </appsco-vault-page>

                    <appsco-upgrade-page id="appscoUpgradePage" name="upgrade" authorization-token="[[ authorizationToken ]]" company-upgrade-api="[[ api.upgradeToBusiness ]]" on-upgraded="_upgradedToBusiness"></appsco-upgrade-page>

                    <appsco-applications-page id="appscoApplicationsPage" name="applications" application="{{ _companyApplication }}" selected-applications="{{ _selectedApplications }}" application-log="[[ _companyApplication.meta.log ]]" authorization-token="[[ authorizationToken ]]" computed-headers="[[ _computedHeaders ]]" company-applications-api="[[ companyApplicationsApi ]]" company-orgunits-api="[[ companyOrgunitsApi ]]" on-loaded="_onLoadedApplications" on-edit-application="_onEditCompanyApplication" on-info-edit-application="_onInfoEditCompanyApplication" on-share-company-application="_onShareCompanyApplication" on-show-bulk-actions="_onShowBulkActions" on-hide-bulk-actions="_onHideApplicationsBulkActions" on-add-orgunit="_onAddOrgunit" on-modify-orgunit="_onModifyOrgunit" on-remove-orgunit="_onRemoveOrgunit"></appsco-applications-page>

                    <appsco-manage-application-page id="appscoManageApplicationPage" name="manage-application" route="[[ subroute ]]" application="{{ _companyApplication }}" company-api="[[ companyApi ]]" application-log="[[ _companyApplication.meta.log ]]" authorization-token="[[ authorizationToken ]]" accounts-api="[[ api.accounts ]]" account="{{ account }}" on-share-company-application="_onShareCompanyApplication" on-remove-application="_onRemoveCompanyApplication" on-change-assignee-claims="_onChangeAssigneeClaims" on-revoke-assignee="_onRevokeAssigneeAccess" on-application-settings-saved="_onApplicationSettingsSaved" on-sharing-settings-saved="_onApplicationSettingsSaved" on-application-settings-no-changes="_onApplicationSettingsNoChanges" on-add-to-orgunit="_onAddApplicationToOrgunit" on-remove-from-orgunit="_onRemoveApplicationFromOrgunit" on-error="_onError"></appsco-manage-application-page>

                    <appsco-directory-page id="appscoDirectoryPage" name="directory" role="{{ _role }}" selected-accounts="{{ _selectedAccounts }}" authorization-token="[[ authorizationToken ]]" computed-headers="[[ _computedHeaders ]]" company-directory-roles-api="[[ companyDirectoryRolesApi ]]" company-orgunits-api="[[ companyOrgunitsApi ]]" on-edit-account="_onEditAccount" on-info-edit-account="_onEditAccount" on-show-bulk-actions="_onShowBulkActions" on-hide-bulk-actions="_onHideDirectoryBulkActions" on-add-orgunit="_onAddOrgunit" on-modify-orgunit="_onModifyOrgunit" on-remove-orgunit="_onRemoveOrgunit"></appsco-directory-page>

                    <appsco-manage-account-page id="appscoManageAccountPage" name="manage-account" route="[[ subroute ]]" role="{{ _role }}" authorization-token="[[ authorizationToken ]]" company-api="[[ companyApi ]]" notifications-api="[[ api.notifications ]]" log-api="[[ api.accountLog ]]" two-fa-api="[[ api.twoFA ]]" settings-api="[[ api.me ]]" image-settings-api="[[ api.profileImage ]]" change-password-api="[[ api.changePassword ]]" on-settings-saved="_onAccountSettingsSaved" on-password-changed="_onCompanyAccountPasswordChanged" on-add-to-orgunit="_onAddAccountToOrgunit" on-remove-from-orgunit="_onRemoveAccountFromOrgunit" on-account-role-changed="_onAccountRoleChanged" on-error="_onError"></appsco-manage-account-page>

                    <appsco-audit-log-page id="appscoAuditLogPage" name="audit-log" authorization-token="[[ authorizationToken ]]" company-api="[[ companyApi ]]"></appsco-audit-log-page>

                    <appsco-billing-page id="appscoBillingPage" name="billing" company-api="[[ companyApi ]]" account="[[ account ]]" authorization-token="[[ authorizationToken ]]" on-manage-credit-card="_onManageCreditCard" on-send-invoice="_onSendInvoice"></appsco-billing-page>

                    <appsco-company-settings-page id="appscoCompanySettingsPage" name="company-settings" account="{{ account }}" authorization-token="[[ authorizationToken ]]" computed-headers="[[ _computedHeaders ]]" on-company-settings-changed="_onCompanySettingsChanged" on-company-logo-changed="_onCompanyLogoChanged"></appsco-company-settings-page>

                    <appsco-logout-page name="logout" logout-api="[[ api.logout ]]"></appsco-logout-page>

                    <appsco-not-found-page name="404"></appsco-not-found-page>
                </neon-animated-pages>
            </app-header-layout>
        </app-drawer-layout>

        <appsco-account-chat id="appscoAccountChat" account="{{ account }}" chat="{{ chat }}" dont-close-outside="">
        </appsco-account-chat>

        <appsco-application-add id="appscoApplicationAdd" authorization-token="[[ authorizationToken ]]" applications-template-api="[[ api.applicationTemplates ]]" dashboard-api="[[ addAppApi ]]" link-api="[[ api.link ]]" item-api="[[ api.item ]]" on-application-added="_onApplicationAdded" on-link-added="_onApplicationAdded">
        </appsco-application-add>

        <appsco-application-share id="appscoApplicationShare" application="[[ application ]]" authorization-token="[[ authorizationToken ]]" accounts-api="[[ api.accounts ]]" on-application-shared="_onApplicationShared"></appsco-application-share>

        <appsco-application-remove id="appscoApplicationRemove" application="[[ application ]]" authorization-token="[[ authorizationToken ]]" on-application-removed="_onApplicationRemoved"></appsco-application-remove>

        <appsco-account-authorized-app-revoke id="appscoAccountAuthorizedAppRevoke" application="[[ _authorizedApplication ]]" authorization-token="[[ authorizationToken ]]" on-application-revoked="_onAuthorizedApplicationRevoked"></appsco-account-authorized-app-revoke>

        <appsco-application-subscriber-revoke id="appscoApplicationSubscriberRevoke" authorization-token="[[ authorizationToken ]]" on-subscription-revoked="_onSubscriptionRevoked"></appsco-application-subscriber-revoke>

        <appsco-vault-remove id="appscoVaultItemRemove" authorization-token="[[ authorizationToken ]]" on-vault-item-removed="_onVaultItemRemoved"></appsco-vault-remove>

        <appsco-vault-manage-item id="appscoVaultItemManage" authorization-token="[[ authorizationToken ]]" api="[[ api ]]" on-item-saved="_onItemSaved"></appsco-vault-manage-item>

        <appsco-orgunit-modify id="appscoOrgunitModify" authorization-token="[[ authorizationToken ]]" on-orgunit-added="_onOrgunitAdded" on-orgunit-modified="_onOrgunitModified"></appsco-orgunit-modify>

        <appsco-orgunit-remove id="appscoOrgunitRemove" authorization-token="[[ authorizationToken ]]" on-orgunit-removed="_onOrgunitRemoved"></appsco-orgunit-remove>

        <appsco-company-application-add id="appscoCompanyApplicationsAdd" authorization-token="[[ authorizationToken ]]" applications-template-api="[[ api.applicationTemplates ]]" company-api="[[ companyApi ]]" on-applications-added="_onCompanyApplicationsAdded">
        </appsco-company-application-add>

        <appsco-application-orgunit id="appscoApplicationOrgunit" authorization-token="[[ authorizationToken ]]" company-orgunits-api="[[ companyOrgunitsApi ]]" applications="[[ _selectedApplications ]]" on-added-to-orgunit="_onApplicationsAddedToOrgunit"></appsco-application-orgunit>

        <appsco-application-remove-orgunit id="appscoApplicationRemoveOrgunit" authorization-token="[[ authorizationToken ]]" application="[[ _companyApplication ]]" on-application-removed-from-orgunit="_onApplicationRemovedFromOrgunit"></appsco-application-remove-orgunit>

        <appsco-company-application-share id="appscoCompanyApplicationsShare" applications="[[ _applicationsToShare ]]" authorization-token="[[ authorizationToken ]]" accounts-api="[[ api.accounts ]]" on-applications-shared="_onCompanyApplicationsShared"></appsco-company-application-share>

        <appsco-application-assignee-claims id="appscoApplicationAssigneeClaims" application="[[ _companyApplication ]]" authorization-token="[[ authorizationToken ]]" on-claims-changed="_onAssigneeClaimsChanged"></appsco-application-assignee-claims>

        <appsco-application-assignee-revoke id="appscoApplicationAssigneeRevoke" authorization-token="[[ authorizationToken ]]" on-access-revoked="_onAssigneeAccessRevoked"></appsco-application-assignee-revoke>

        <appsco-company-application-remove id="appscoCompanyApplicationsRemove" applications="[[ _selectedApplications ]]" authorization-token="[[ authorizationToken ]]" company-api="[[ companyApi ]]" on-applications-removed="_onApplicationsRemoved" on-applications-remove-failed="_onApplicationsRemoveFailed"></appsco-company-application-remove>

        <appsco-directory-add-account id="appscoDirectoryAccountAdd" authorization-token="[[ authorizationToken ]]" directory-roles-api="[[ companyDirectoryRolesApi ]]" on-account-added="_onAccountAdded">
        </appsco-directory-add-account>

        <appsco-directory-import-accounts id="appscoDirectoryImportAccounts" authorization-token="[[ authorizationToken ]]" directory-import-api="[[ companyDirectoryImportAccounts ]]" domain="[[ domain ]]" on-accounts-added="_onAccountsAdded">
        </appsco-directory-import-accounts>

        <appsco-account-orgunit id="appscoAccountOrgunit" authorization-token="[[ authorizationToken ]]" company-orgunits-api="[[ companyOrgunitsApi ]]" accounts="[[ _selectedAccounts ]]" on-added-to-orgunit="_onAccountsAddedToOrgunit"></appsco-account-orgunit>

        <appsco-account-remove-orgunit id="appscoAccountRemoveOrgunit" authorization-token="[[ authorizationToken ]]" account="[[ _role ]]" on-account-removed-from-orgunit="_onAccountRemovedFromOrgunit"></appsco-account-remove-orgunit>

        <appsco-account-remove id="appscoAccountsRemove" accounts="[[ _selectedAccounts ]]" authorization-token="[[ authorizationToken ]]" company-api="[[ companyApi ]]" on-accounts-removed="_onAccountsRemoved" on-accounts-remove-failed="_onAccountsRemoveFailed"></appsco-account-remove>

        <appsco-upgrade-action id="appscoUpgradeAction" authorization-token="[[ authorizationToken ]]" company-api="[[ companyApi ]]" on-subscription-changed="_onSubscriptionChanged">
        </appsco-upgrade-action>

        <appsco-subscription-cancel id="appscoSubscriptionCancel" authorization-token="[[ authorizationToken ]]" company-api="[[ companyApi ]]" on-subscription-canceled="_onSubscriptionCanceled">
        </appsco-subscription-cancel>

        <appsco-credit-card id="appscoCreditCard" authorization-token="[[ authorizationToken ]]" company-api="[[ companyApi ]]" on-credit-card-added="_onCreditCardAdded">
        </appsco-credit-card>

        <appsco-billing-send-invoice id="appscoBillingSendInvoice" account="[[ account ]]" authorization-token="[[ authorizationToken ]]" company-api="[[ companyApi ]]" on-invoice-sent="_onInvoiceSent">
        </appsco-billing-send-invoice>

        <template is="dom-if" if="[[ api.me ]]">
            <iron-ajax auto="" url="[[ api.me ]]" on-response="_onGetAccountResponse" on-error="_onGetAccountError" headers="{{ _computedHeaders }}"></iron-ajax>
        </template>

        <template is="dom-if" if="[[ api.dashboards ]]">
            <iron-ajax auto="" url="[[ api.dashboards ]]?extended=1" on-response="_onDashboardsResponse" headers="{{ _computedHeaders }}"></iron-ajax>
        </template>

        <template is="dom-if" if="[[ _company ]]">
            <template is="dom-if" if="[[ api.companies ]]">
                <iron-ajax auto="" url="[[ api.companies ]]" on-response="_onCompaniesResponse" headers="{{ _computedHeaders }}"></iron-ajax>
            </template>
        </template>
    </template>

    <script>Polymer({is:"appsco-app",properties:{_company:{type:Boolean,computed:"_computeCompany(page)",observer:"_onCompanyChange"},page:{type:String,observer:"_pageChanged"},domain:{type:String},_pageName:{type:String,computed:"_computePageName(page)"},api:{type:Object,value:function(){return{}},notify:!0},account:{type:Object,value:function(){return{}},notify:!0},_role:{type:Object,value:function(){return{}}},_computedHeaders:{type:Object,computed:"_computeHeaders(authorizationToken)"},chat:{type:Object,value:function(){return{auth:"auth code",room:"room number",service:"https://www.xxx.com",active:"false"}}},application:{type:Object,value:function(){return{}}},_companyApplication:{type:Object,value:function(){return{}}},_selectedApplications:{type:Array,value:function(){return[]}},_applicationsToShare:{type:Array,value:function(){return[]}},_authorizedApplication:{type:Object,value:function(){return{}},notify:!0},_selectedAccounts:{type:Array,value:function(){return[]}},authorizationToken:{type:String,value:""},addAppApi:{type:String,value:""},applicationsApi:{type:String,value:""},companyApplicationsApi:{type:String,value:""},companyDirectoryRolesApi:{type:String,value:""},companyOrgunitsApi:{type:String,value:""},companyApi:{type:String,value:""},_globalActions:{type:Boolean,value:!0},_toastMessage:{type:String,value:""},mobileScreen:{type:Boolean,value:!1,reflectToAttribute:!0},tabletScreen:{type:Boolean,value:!1,reflectToAttribute:!0},_companyUser:{type:Boolean,computed:"_computeCompanyUser(account)"},_companyAdmin:{type:Boolean,computed:"_computeCompanyAdmin(account)"},_brandLogo:{type:String,computed:"_computeBrandLogo(account)"},_brandTitle:{type:String,computed:"_computeBrandTitle(account)"}},observers:["_updateScreen(mobileScreen, tabletScreen)","_routePageChanged(routeData.page)"],listeners:{"api-changed":"_apiChanged","page-loaded":"_onPageLoaded","filter-done":"_onPageLoaded","upgrade-active":"_fireUpgrade","cancel-subscription":"_onCancelSubscription","application-added":"_reloadAccountLog","link-added":"_reloadAccountLog","application-removed":"_reloadAccountLog","application-revoked":"_reloadAccountLog","account-added":"_reloadAccountLog","accounts-added":"_reloadAccountLog","added-to-orgunit":"_reloadAccountLog","account-removed-from-orgunit":"_reloadAccountLog","accounts-removed":"_reloadAccountLog","orgunit-added":"_reloadAccountLog","orgunit-modified":"_reloadAccountLog","orgunit-removed":"_reloadAccountLog","company-settings-changed":"_reloadAccountLog","company-logo-changed":"_reloadAccountLog"},attached:function(){(this.mobileScreen||this.tabletScreen)&&this.updateStyles()},_updateScreen:function(t,o){this.updateStyles()},_computeCompanyUser:function(t){return!!t.company},_computeCompanyAdmin:function(t){return!!t.company&&t.company_admin},_updateStyle:function(t){t?(this.customStyle["--app-primary-color"]="#5AC099",setTimeout(function(){document.body.click()},10)):this.customStyle["--app-primary-color"]="#279FBC",this.updateStyles()},_setProduct:function(t){var o=this.$.appscoHeader;t?o.setProduct("appsco-business-product"):o.setProduct("appsco-product")},_onCompanyChange:function(t){this._updateStyle(t),this._setProduct(t)},_apiChanged:function(){this.applicationsApi=this.api.icons},_routePageChanged:function(t){this.page=t||"home"},_pageChanged:function(t){this._setProgressBar(t);var o=this.resolveUrl("appsco-"+t+"-page.html");this.importHref(o,null,this._showPage404,!0),this.$.appDrawer.close()},_computePageName:function(t){switch(t){case"manage-application":return"Manage Application";case"manage-account":return"Manage Account";case"company-settings":return"Company Settings";case"audit-log":return"Audit Log";default:return t}},_showHomePage:function(){this.set("routeData.page","home")},_showAccountPage:function(){this.set("routeData.page","account")},_showCompanyApplicationsPage:function(){this.set("routeData.page","applications")},_showCompanyDirectoryPage:function(){this.set("routeData.page","directory")},_showLogoutPage:function(){this.set("routeData.page","logout")},_showPage404:function(){this.page="404",this._pageName="Not Found"},_computeHeaders:function(t){return{Authorization:"token "+t}},_onGetAccountResponse:function(t){this.account=t.detail.response.account},_onGetAccountError:function(){},_onDashboardsResponse:function(t){var o=t.detail.response;if(o&&o.meta.total>0){var e=o.dashboards,i=e.length;t:for(var n=0;n<i;n++)for(var a=e[n].roles,c=a.length,s=0;s<c;s++)if("owner"===a[s].toLowerCase()){this.addAppApi=e[n].self;break t}}},_setCompanyApi:function(t){this.companyApi=t,this.companyApplicationsApi=t+"/applications",this.companyDirectoryRolesApi=t+"/directory/roles",this.companyDirectoryImportAccounts=t+"/directory/roles/import",this.companyOrgunitsApi=t+"/org-units?extended=1"},_onCompaniesResponse:function(t){var o=t.detail.response;o&&o.meta.total>0&&this._setCompanyApi(o.companies[0])},_onAppscoProductChangeAction:function(t){var o=t.detail.product;"appsco-product"===o&&"home"!==this.page&&this._showHomePage(),"appsco-business-product"===o&&"applications"!==this._page&&this._showCompanyApplicationsPage()},_onAccountChat:function(t){this.$.appscoAccountChat.toggleChat(t.target)},_onAccountSettingsAction:function(){this._showAccountPage()},_onAllNotifications:function(){this.$.appscoAccountPage.showAllNotifications=!0,this._showAccountPage()},_onAccountLogout:function(){this._showLogoutPage()},_onLoadedApplications:function(){"home"===this.page?this.$.appscoHomePage.setDefaultApplication():"applications"===this.page&&this.$.appscoApplicationsPage.setDefaultApplication()},getCurrentAppscoPageElement:function(){switch(this.page){case"home":return this.$.appscoHomePage;case"applications":return this.$.appscoApplicationsPage;case"directory":return this.$.appscoDirectoryPage}},getCurrentAppscoPageActionsElement:function(){switch(this.page){case"home":return this.$.appscoHomePageActions;case"applications":return this.$.appscoApplicationsPageActions;case"directory":return this.$.appscoDirectoryPageActions}},_onInfoAction:function(){this.getCurrentAppscoPageElement().toggleInfo()},_onFiltersAction:function(){this.getCurrentAppscoPageElement().toggleResource()},_onShowBulkActions:function(){this.getCurrentAppscoPageActionsElement().showBulkActions()},_onHideApplicationsBulkActions:function(){this.$.appscoApplicationsPageActions.hideBulkActions()},_onHideDirectoryBulkActions:function(){this.$.appscoDirectoryPageActions.hideBulkActions()},_onInfoVaultAction:function(){this.$.appscoVaultPage.toggleInfo()},_onSearchApplications:function(t){var o=t.detail.term;this._showProgressBar(),this.$.appscoHomePage.filterApplicationsByTerm(o)},_onGroupSelected:function(t){var o=parseInt(t.detail.id);switch(this._showProgressBar(),o){case 0:this.applicationsApi=this.api.icons+"?extended=1";break;default:this.applicationsApi=this.api.dashboards+"/"+o+"/icons"}},_onAddApplication:function(){this.$.appscoApplicationAdd.toggle()},_onApplicationAdded:function(t){var o=t.detail.application,e=[o],i=o.title+" was successfully saved.";this.application=o,this.$.appscoHomePage.addApplications(e),this._notify(i)},_onEditApplication:function(){this.set("route.path","application/"+this.application.alias)},_onInfoEditApplication:function(){this._onEditApplication()},_onResourceActionApplicationPage:function(){this.$.appscoApplicationPage.toggleResource()},_onShareApplication:function(){this.$.appscoApplicationShare.toggle()},_onApplicationShared:function(t){var o=t.detail.application,e=o.meta.log,i="You successfully shared "+this.application.title+".";this.set("application",{}),this.set("application",o),this._notifyAboutApplicationLogChange(e),this._notify(i)},_onRemoveApplication:function(){this.$.appscoApplicationRemove.open()},_onApplicationRemoved:function(t){var o=t.detail.application,e=[o],i=o.title+" was successfully removed.";this.$.appscoHomePage.removeApplications(e),this._showHomePage(),this._notify(i)},_onApplicationSettingsSaved:function(t){var o=t.detail.application,e=o.meta.log,i=o.title+" was successfully changed.";this._reloadApplications(),this._notifyAboutApplicationLogChange(e),this._notify(i)},_onApplicationSettingsNoChanges:function(t){this._notify("No changes have been made to "+t.detail.application.title+".")},_onAutologinChanged:function(){this._reloadApplications()},_reloadApplications:function(){switch(this.page){case"application":this.$.appscoHomePage.$&&this.$.appscoHomePage.reloadApplications();break;case"manage-application":this.$.appscoApplicationsPage.$&&this.$.appscoApplicationsPage.reloadApplications()}},_notifyAboutApplicationLogChange:function(t){this.set("application.meta.log",""),this.set("application.meta.log",t)},_onSubscriptionRevoke:function(t){this.$.appscoApplicationSubscriberRevoke.application=t.detail.application,this.$.appscoApplicationSubscriberRevoke.revokeAccount=t.detail.account,this.$.appscoApplicationSubscriberRevoke.open()},_onRevokeApplication:function(t){t.detail.account=this.account,this._onSubscriptionRevoke(t)},_onSelfSubscriptionRevoked:function(t){this.$.appscoHomePage.removeApplications([t.detail.application]),this.$.appscoHomePage.setDefaultApplication(),this._notify("You have successfully revoked access to "+t.detail.application.title+".")},_onAccountSubscriptionRevoked:function(t){this.set("application",{}),this.set("application",t.detail.application),this._notify("You have successfully revoked access to "+t.detail.application.title+" for "+t.detail.account.name)},_onSubscriptionRevoked:function(t){switch(this.page){case"home":this._onSelfSubscriptionRevoked(t);break;case"application":this._onAccountSubscriptionRevoked(t)}},_onResourceActionAccountPage:function(){this.$.appscoAccountPage.toggleResource()},_onAccountAdvancedSettings:function(){this.$.appscoAccountPage._onAccountAdvancedSettings()},_onAccountSettingsSaved:function(t){switch(this.page){case"manage-account":this.$.appscoDirectoryPage.$&&this.$.appscoDirectoryPage.reloadAccounts(),this._notify("Account settings for "+t.detail.account.name+" were successfully changed.");break;case"account":this._notify("Account settings were successfully changed.")}},_onAccountPasswordChanged:function(){this._notify("Account password was successfully changed.")},_onRevokeAuthorizedApplication:function(t){this._authorizedApplication=t.detail.application,this.$.appscoAccountAuthorizedAppRevoke.open()},_onAuthorizedApplicationRevoked:function(t){var o=t.detail.application;this._authorizedApplication={},this._notify(o.title+" was successfully revoked."),this.$.appscoAccountPage.reloadAuthorizedApplications()},_onDisableAdvancedSettings:function(){this.$.appscoAccountPageActions.disableAdvancedSettings()},_onEnableAdvancedSettings:function(){this.$.appscoAccountPageActions.enableAdvancedSettings()},_onTwoFaEnabled:function(){this._notify("Two-factor authentication enabled.")},_onTwoFaDisabled:function(){this._notify("Two-factor authentication disabled.")},_reloadAccountLog:function(){this.$.appscoAccountPage.$&&this.$.appscoAccountPage.reloadLog()},_onTokenGenerated:function(){this._notify("Transfer token was successfully generated.")},_onLoadedVaultItems:function(){"vault"===this.page&&this.$.appscoVaultPage.setDefaultItem()},_onAddVaultAction:function(t){var o=this.$.appscoVaultItemManage;o.open(t.detail.action)},_onEditVaultAction:function(t){var o=this.$.appscoVaultItemManage;o.set("item",t.detail.item),o.open(t.detail.item.vaultType)},_onRemoveVaultAction:function(t){var o=this.$.appscoVaultItemRemove;o.item=t.detail.item,o.open()},_onItemSaved:function(t){var o=t.detail.item,e=this.$.appscoVaultPage;e.item=o,e.setItem(o),this._notify("Vault item "+o.displayTitle+" has been successfully saved.")},_onVaultItemRemoved:function(t){var o=this.$.appscoVaultPage;o.removeItem(t.detail.item),o.hideInfo(),o.setDefaultItem(),this._notify("Vault item "+t.detail.item.displayTitle+" removed.")},_onUpgradeTogglePricing:function(){this.$.appscoUpgradePage.togglePricing()},_onSearchCompanyApplications:function(t){var o=t.detail.term;this._showProgressBar(),this.$.appscoApplicationsPage.filterApplicationsByTerm(o)},_onResourceActionManageApplicationPage:function(){this.$.appscoManageApplicationPage.toggleResource()},_onEditCompanyApplication:function(){this.set("route.path","manage-application/"+this._companyApplication.alias)},_onInfoEditCompanyApplication:function(){this._onEditCompanyApplication()},_refreshOrgunits:function(t){var o=this.$.appscoApplicationsPage.$?this.$.appscoApplicationsPage:null,e=this.$.appscoDirectoryPage.$?this.$.appscoDirectoryPage:null;switch(t.event){case"orgunit-added":null!=o&&o.addOrgunit(t.orgunit),null!=e&&e.addOrgunit(t.orgunit);break;case"orgunit-modified":null!=o&&o.modifyOrgunit(t.orgunit),null!=e&&e.modifyOrgunit(t.orgunit);break;case"orgunit-removed":null!=o&&o.removeOrgunit(t.orgunit),null!=e&&e.removeOrgunit(t.orgunit)}},_onAddOrgunit:function(t){var o=this.$.appscoOrgunitModify;o.parent=t.detail.orgUnit,o.orgUnit={},o.open()},_onOrgunitAdded:function(t){var o=t.detail.orgUnit;this._refreshOrgunits({page:this.page,event:t.type,orgunit:o}),this._notify("Organization unit "+o.name+" successfully added.")},_onModifyOrgunit:function(t){var o=this.$.appscoOrgunitModify;o.parent={},o.orgUnit=t.detail.orgUnit,o.open()},_onOrgunitModified:function(t){var o=t.detail.orgUnit;this._refreshOrgunits({page:this.page,event:t.type,orgunit:o}),this._notify("Organization unit "+o.name+" successfully modified.")},_onRemoveOrgunit:function(t){var o=this.$.appscoOrgunitRemove;o.orgUnit=t.detail.orgUnit,o.open()},_onOrgunitRemoved:function(t){var o=t.detail.orgUnit;this._refreshOrgunits({page:this.page,event:t.type,orgunit:o}),this._notify("Organization unit "+o.name+" successfully removed.")},_onCompanyAddApplication:function(){this.$.appscoCompanyApplicationsAdd.toggle()},_onCompanyApplicationsAdded:function(t){var o=t.detail.applications,e="Selected applications were successfully added.";this.$.appscoApplicationsPage.addApplications(o),this._notify(e)},_onAddApplicationsToOrgunit:function(){this.$.appscoApplicationOrgunit.toggle()},_onApplicationsAddedToOrgunit:function(t){var o=t.detail.applications;this._notify("Selected applications were successfully added to "+t.detail.orgunit.name+"."),this.$.appscoApplicationsPage.$&&this.$.appscoApplicationsPage.modifyApplications(o),1===o.length&&(this._companyApplication=o[0])},_onShareApplications:function(){this.set("_applicationsToShare",this._selectedApplications),this.$.appscoCompanyApplicationsShare.toggle()},_onShareCompanyApplication:function(t){this.set("_applicationsToShare",[]),this._applicationsToShare.push(t.detail.application),this.$.appscoCompanyApplicationsShare.toggle()},_onCompanyApplicationsShared:function(t){var o=t.detail.applications,e=o[o.length-1];this.set("_companyApplication",{}),this.set("_companyApplication",e),this._notify("Selected applications were successfully shared.")},_onChangeAssigneeClaims:function(t){var o=this.$.appscoApplicationAssigneeClaims;o.setApplication(t.detail.application),o.setAssignee(t.detail.assignee),o.toggle()},_onAssigneeClaimsChanged:function(t){this._notify("Claims for "+t.detail.assignee.display_name+" were successfully changed."),this.set("_companyApplication",{}),this.set("_companyApplication",t.detail.application)},_onRevokeAssigneeAccess:function(t){var o=this.$.appscoApplicationAssigneeRevoke;o.setAssignee(t.detail.assignee),o.toggle()},_onAssigneeAccessRevoked:function(t){var o=t.detail.application;this._notify("Access for "+t.detail.assignee.display_name+" on "+o.title+" revoked."),this.set("_companyApplication",{}),this.set("_companyApplication",o)},_onRemoveApplications:function(){this.$.appscoCompanyApplicationsRemove.toggle()},_onApplicationsRemoved:function(){this.$.appscoApplicationsPage.removeApplications(),this.set("selectedApplications",[]),this._showCompanyApplicationsPage(),this._notify("Selected applications were successfully removed from company.")},_onApplicationsRemoveFailed:function(){this.set("selectedApplications",[]),this._notify("An error occurred. Selected applications were not removed from company. Please try again.")},_onSelectAllApplications:function(){this.$.appscoApplicationsPage.selectAllApplications()},_onDeselectAllApplications:function(){this.$.appscoApplicationsPage.deselectAllApplications(),this._onHideApplicationsBulkActions()},_onRemoveCompanyApplication:function(t){this.set("_selectedApplications",[t.detail.application]),this._onRemoveApplications()},_onAddApplicationToOrgunit:function(t){this.set("_selectedApplications",[t.detail.application]),this._onAddApplicationsToOrgunit()},_onRemoveApplicationFromOrgunit:function(t){this.$.appscoApplicationRemoveOrgunit.orgunit=t.detail.orgunit,this._companyApplication=t.detail.application,this.$.appscoApplicationRemoveOrgunit.toggle()},_onApplicationRemovedFromOrgunit:function(t){var o=t.detail.application;this.$.appscoApplicationsPage.$&&this.$.appscoApplicationsPage.modifyApplications([o]),this._companyApplication=o,this._notify(o.title+" has been removed from "+t.detail.orgunit.name+" organization unit.")},_onSearchAccounts:function(t){var o=t.detail.term;this._showProgressBar(),this.$.appscoDirectoryPage.filterAccountsByTerm(o)},_onCompanyAddAccount:function(){this.$.appscoDirectoryAccountAdd.toggle()},_onCompanyImportAccounts:function(){this.$.appscoDirectoryImportAccounts.toggle()},_onAccountAdded:function(t){this.$.appscoDirectoryPage.addAccounts([t.detail.account])},_onAccountsAdded:function(t){this.$.appscoDirectoryPage.addAccounts(t.detail.accounts),this._notify("Accounts were successfully imported.")},_onAddAccountsToOrgunit:function(){this.$.appscoAccountOrgunit.toggle()},_onAccountsAddedToOrgunit:function(t){var o=t.detail.accounts;this._notify("Selected accounts were successfully added to "+t.detail.orgunit.name+"."),this.$.appscoDirectoryPage.$&&this.$.appscoDirectoryPage.modifyAccounts(o),1===o.length&&(this._role=o[0])},_onRemoveAccounts:function(){this.$.appscoAccountsRemove.toggle()},_onAccountsRemoved:function(t){this.$.appscoDirectoryPage.removeAccounts(t.detail.accounts),this._onHideDirectoryBulkActions(),this.set("_selectedAccounts",[]),this._notify("Selected accounts were successfully removed from company.")},_onAccountsRemoveFailed:function(){this.set("_selectedAccounts",[]),this._notify("An error occurred. Selected accounts were not removed from company. Please try again.")},_onEditAccount:function(t){var o=t.detail.role,e="manage-account/"+o.alias;this.set("_role",o),this.set("route.path",e)},_onResourceActionManageAccountPage:function(){this.$.appscoManageAccountPage.toggleResource()},_onCompanyAccountPasswordChanged:function(t){this._notify("Password for "+t.detail.account.name+" was successfully changed.")},_onAddAccountToOrgunit:function(t){this.set("_selectedAccounts",[t.detail.role]),this._onAddAccountsToOrgunit()},_onRemoveAccountFromOrgunit:function(t){this.$.appscoAccountRemoveOrgunit.orgunit=t.detail.orgunit,this._role=t.detail.account,this.$.appscoAccountRemoveOrgunit.toggle()},_onAccountRemovedFromOrgunit:function(t){var o=t.detail.account;this.$.appscoDirectoryPage.$&&this.$.appscoDirectoryPage.modifyAccounts([o]),this._role=o,this._notify(o.name+" has been removed from "+t.detail.orgunit.name+" organization unit.")},_onAccountRoleChanged:function(t){var o=t.detail.account.account.name,e=t.detail.role,i="";i=e.value?e.name+" role is given to "+o+".":e.name+" role is revoked from "+o+".",this._notify(i)},_onResourceActionAuditLogPage:function(){this.$.appscoAuditLogPage.toggleResource()},_onResourceActionBillingPage:function(){this.$.appscoBillingPage.toggleResource()},_fireUpgrade:function(){this.$.appscoUpgradeAction.toggle()},_setSubscription:function(t){this.$.appscoBillingPage.setSubscription(t)},_onSubscriptionChanged:function(t){this._setSubscription(t.detail.subscription),this._notify("Subscription has been successfully changed.")},_onCancelSubscription:function(){this.$.appscoSubscriptionCancel.toggle()},_onSubscriptionCanceled:function(t){this._setSubscription(t.detail.subscription),this._notify("Subscription has been successfully canceled.")},_onManageCreditCard:function(){this.$.appscoCreditCard.toggle()},_onCreditCardAdded:function(t){this.$.appscoBillingPage.setCreditCard(t.detail.credit_card),this._notify("Credit card has been successfully saved.")},_onSendInvoice:function(t){this.$.appscoBillingSendInvoice.setInvoice(t.detail.invoice),this.$.appscoBillingSendInvoice.toggle()},_onInvoiceSent:function(t){this._notify("Invoice has been sent to "+t.detail.sentTo+".")},_setProgressBar:function(t){switch(t){case"home":this.$.appscoHomePage.pageLoaded?this._hideProgressBar():this._showProgressBar();break;case"application":this.$.appscoApplicationPage.pageLoaded?this._hideProgressBar():this._showProgressBar();break;case"account":this.$.appscoAccountPage.pageLoaded?this._hideProgressBar():this._showProgressBar();break;case"vault":this.$.appscoVaultPage.pageLoaded?this._hideProgressBar():this._showProgressBar();break;case"applications":this.$.appscoApplicationsPage.pageLoaded?this._hideProgressBar():this._showProgressBar();break;case"manage-application":this.$.appscoManageApplicationPage.pageLoaded?this._hideProgressBar():this._showProgressBar();break;case"directory":this.$.appscoDirectoryPage.pageLoaded?this._hideProgressBar():this._showProgressBar();break;case"manage-account":this.$.appscoManageAccountPage.pageLoaded?this._hideProgressBar():this._showProgressBar();break;case"audit-log":this.$.appscoAuditLogPage.pageLoaded?this._hideProgressBar():this._showProgressBar();break;default:this._hideProgressBar()}},_onPageLoaded:function(){this._hideProgressBar()},_showProgressBar:function(){this.$.pageProgress.hidden=!1},_hideProgressBar:function(){setTimeout(function(){this.$.pageProgress.hidden=!0}.bind(this),1e3)},_computeCompany:function(t){return"applications"===t||"manage-application"===t||"directory"===t||"manage-account"===t||"billing"===t||"company-settings"===t||"audit-log"===t},_computePanel:function(t){return t?"appsco-business-product":"appsco-product"},_computeBrandLogo:function(t){return t.company&&"image"in t.company&&t.company.image?t.company.image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAgCAYAAAB+ZAqzAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAVZJREFUeNrsmOENgjAQhcE4AG5QN2AERnCEjsAIdQJG6AiO0BEcATdwhLONxJR6V1u8Ij98ycXkrL3HR+8gVlWCAEDa0EjuaqP1csLGkPJ7FtlNR3hKIzknNeV0uC5YqzhNSc/AiORgKiyCnCbWSm5ar02DHEzFhyB3J9aCf/tL02qckSCvbHSAy60Va9BSSGFn1gAt1zjNlmj5Mr+gdYE0aXZahFmFdOgnSW5aEikivHmWo1NJWnoBLf8ItFujNWumErSwDs3V+xjJoNURtBTwSC6lZQrRmtXhoNXa6IFPIwctE3lYf3crv6TVER26Ki29RVpiNVoJkz+FlmGnlTD5Y7ROia82q9Iat0ALG5xyml3laUXMqkSKZWgRpiha4k+LMPYzWvuYsbquDxhFxn8fzmTt3DNnP9xVNgymbvbCj9SXu8zNeiZTUVocZ27pe/3HA/8QYABzJAP50CmRFwAAAABJRU5ErkJggg=="},_computeBrandTitle:function(t){return t.company&&"name"in t.company?t.company.name:"AppsCo"},_onCompanySettingsChanged:function(t){this.account={},this.account=t.detail.account,this._notify("Company settings were successfully saved.")},_onCompanyLogoChanged:function(t){this.account={},this.account=t.detail.account,this._notify("Company logo was successfully saved.")},_upgradedToBusiness:function(t){this.account={},this.account=t.detail.account,this.set("routeData.page","company-settings"),this._notify("Upgrade to AppsCo business succeeded."),setTimeout(function(){this._notify("Please setup your company settings.")}.bind(this),2e3)},_onPageAnimationFinish:function(t){var o=t.detail.fromPage,e=t.detail.toPage;switch(o.getAttribute("name")){case"home":case"application":case"account":case"applications":case"manage-application":case"directory":case"manage-account":o.$&&o.resetPage()}switch(e.getAttribute("name")){case"home":case"applications":e.$&&e.initializePage();break;case"directory":e.$&&e.setDefaultAccount();break;case"audit-log":e.$&&e.reloadLog()}},_notify:function(t){var o=this.$.toast;o.opened?(o.cancel(),this._toastMessage=t):(this._toastMessage=t,o.open())},_onToastMessageClosed:function(t){t.detail.canceled&&this.$.toast.open()},_onError:function(){this._showPage404()}});</script>
</dom-module>
</body></html>