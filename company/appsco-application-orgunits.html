<link rel="import" href="../../polymer/polymer.html">
<link rel="import" href="../../paper-styles/typography.html">

<link rel="import" href="appsco-application-orgunit-item.html">


<!--
`appsco-application-orgunits`
Contains info about organization units application belongs to.

    <appsco-application-orgunits application="{}">
    </appsco-application-orgunits>

### Styling

`<appsco-application-orgunits>` provides the following custom properties and mixins for styling:

Custom property | Description | Default
----------------|-------------|----------
`--appsco-application-orgunits` | Mixin for the root element | `{}`

@demo demo/appsco-application-orgunits.html
-->

<dom-module id="appsco-application-orgunits">
    <template>
        <style>
            :host {
                display: block;
                position: relative;
            @apply(--appsco-application-orgunits);
            }
            :host .orgunits {
            @apply(--layout-vertical);
            @apply(--appsco-orgunits);
            }
            :host appsco-application-orgunit-item:first-of-type {
                border-top: none;
            }
            :host .message {
                color: var(--secondary-text-color);
                font-style: italic;
            @apply(--paper-font-body2);
            }
        </style>

        <div class="orgunits">
            <template is="dom-repeat" items="[[ application.org_units ]]" rendered-item-count="{{ renderedCount }}">
                <appsco-application-orgunit-item item="[[ item ]]"
                                                 application="[[ application ]]"></appsco-application-orgunit-item>
            </template>
        </div>

        <template is="dom-if" if="{{ !renderedCount }}">
            <p class="message">
                Application doesn't belong to any organization unit.
            </p>
        </template>

    </template>

    <script>
        Polymer({

            is: 'appsco-application-orgunits',

            properties: {

                /**
                 * [Application](https://developers.appsco.com/api/dashboard/id/icons/id)
                 */
                application: {
                    type: Object,
                    value: function() {
                        return {};
                    }
                }
            }
        });
    </script>
</dom-module>
